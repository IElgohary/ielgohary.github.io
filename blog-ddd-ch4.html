<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Islam O. Elgohary</title>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-151009602-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-151009602-1');
    </script>

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="Domain-Driven Design by Eric Evans (Part II, Chapter 4)" />
    <meta name="keywords" content="Domain-Driven Design by Eric Evans (Part II, Chapter 4)" />
    <meta name="author" content="Islam Elgohary" />

    <meta property="og:title" content="Domain-Driven Design by Eric Evans (Part II, Chapter 4)">
    <meta property="og:description" content="Domain-Driven Design by Eric Evans (Part II, Chapter 4)>
    <meta property="og:image" content="images/blog/blog_post_14.jpg">
    <meta property="og:url" content="https://ielgohary.github.io/blog-ddd-ch4.html">

    <meta name="twitter:title" content="Domain-Driven Design by Eric Evans (Part II, Chapter 4)">
    <meta name="twitter:description" content="Domain-Driven Design by Eric Evans (Part II, Chapter 4)">
    <meta name="twitter:image" content="https://ielgohary.github.io/images/blog/blog_post_14.jpg">
    <meta name="twitter:card" content="summary_large_image">
    <link rel="shortcut icon" href="icon.png">

    <link rel="stylesheet" href="css/bootstrap.css" type="text/css">
    <link rel="stylesheet" href="css/normalize.css" type="text/css">
    <link rel="stylesheet" href="css/animate.css" type="text/css">
    <link rel="stylesheet" href="css/transition-animations.css" type="text/css">
    <link rel="stylesheet" href="css/owl.carousel.css" type="text/css">
    <link rel="stylesheet" href="css/magnific-popup.css" type="text/css">
    <link rel="stylesheet" href="css/main.css" type="text/css">

    <script src="js/jquery-2.1.3.min.js"></script>
    <script src="js/modernizr.custom.js"></script>

    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body class="material-template">
    <!-- Loading animation -->
    <div class="preloader">
      <div class="preloader-animation">
        <div class="preloader-spinner">
        </div>
      </div>
    </div>
    <!-- /Loading animation -->

    <div id="page" class="page">
      <!-- Header -->
      <header id="site_header" class="header mobile-menu-hide">
        <div class="header-content">
          <div class="site-title-block mobile-hidden">
            <div class="site-title">Islam O. <span>Elgohary</span></div>
          </div>

          <!-- Navigation -->
          <div class="site-nav">
            <!-- Main menu -->
            <ul id="nav" class="site-main-menu">
              <li>
                <a class="pt-trigger" href="index.html#home" data-animation="62">Home</a><!-- href value = data-id without # of .pt-page. -->
              </li>
              <li>
                <a class="pt-trigger" href="index.html#resume" data-animation="62">Resume</a>
              </li>
              <!-- <li>
                <a class="pt-trigger" href="index.html#portfolio" data-animation="62">Portfolio</a>
              </li> -->
              <li class="active">
                <a class="pt-trigger" href="index.html#blog" data-animation="62">Blog</a>
              </li>
            </ul>
            <!-- /Main menu -->
          </div>
          <!-- Navigation -->
        </div>
      </header>
      <!-- /Header -->

      <!-- Mobile Header -->
      <div class="mobile-header mobile-visible">
        <div class="mobile-logo-container">
          <div class="mobile-site-title">Islam O. Elgohary</div>
        </div>

        <a class="menu-toggle mobile-visible">
          <i class="fa fa-bars"></i>
        </a>
      </div>
      <!-- /Mobile Header -->

      <!-- Main Content -->
      <div id="main" class="site-main">
        <!-- Single Page Content -->
        <div class="single-page-content">
          <div class="content-area">
            <div class="page-content">
              <!-- Blog Entry Content -->
              <div class="blog-post-main-image">
                <img class="post-image img-responsive" src="images/blog/blog_post_14.jpg" alt="blog-post-14" />
              </div>

              <div class="blog-post-content">
                <h1>Domain-Driven Design by Eric Evans (Part II, Chapter 4): Layered architecture and Smart UI</h1>
                <div class="entry-meta">
                    <span class="date"><a href="#"><i class="fa fa-fw fa-clock-o"></i> Jan 31, 2022</a></span>
                  </div>
                
                  <p>In <a href="https://ielgohary.github.io/blog-ddd-I.html">part I</a>, the book clarifies the motivation behind using Domain-Driven Design and it laid the foundation of its goals and how to achieve them. It also defined what Model-Driven Design is. In chapter 4, The book explores two architecture frameworks and how they fit into Model-Driven Design.</p>
                  <h2 id="part-ii">Part II</h2>
                  <h3 id="chapter-4-isolating-the-domain">Chapter 4: Isolating the Domain</h3>
                  <p>It is important to understand that most of the code is not about the domain but about the technology of the software itself. We need to isolate the domain objects from the rest of the code so we do not lose sight of the domain.</p>
                  <p>For example, when you set the destination in a ride hailing app, you go through different parts of the system:</p>
                  <ol>
                  <li>The frontend widget</li>
                  <li>The query that gets the possible destinations from the database</li>
                  <li>User input validation</li>
                  <li>Associate selected destination with the trip</li>
                  <li>Commit changes to the database</li>
                  </ol>
                  <p>Only a little portion of that is part of the business domain.</p>
                  <p>Often UI, database and other code is written directly in the domain objects because it is faster to get things done. This makes the project harder to understand and harder to scale. To avoid that, systems should be implemented with separation of concerns and that&#39;s what <strong>Layered Architecture</strong> aims at.</p>
                  <h4 id="layered-architecture">Layered Architecture</h4>
                  <p>Layered architecture divides the program into layers where each layer is responsible of an aspect of computer science. The layers are:</p>
                  <ol>
                  <li>UI or Presentation layer</li>
                  <li>Application layer which 
                  coordinates tasks between domain objects and it has no business rules</li>
                  <li>Model layer or domain layer which is the most important layer for Model-Driven Design</li>
                  <li>Infrastructure layer which provide technical capabilities to support the above layers</li>
                  </ol>
                  <p>An example to that can consist of:</p>
                  <table>
                  <thead>
                  <tr>
                  <th>Layer</th>
                  <th>Component</th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr>
                  <td>Presentation</td>
                  <td>Frontend web interface</td>
                  </tr>
                  <tr>
                  <td>Application</td>
                  <td>Backend for Frontend (bff)</td>
                  </tr>
                  <tr>
                  <td>Domain</td>
                  <td>Specialized Microservices handling different entities each</td>
                  </tr>
                  <tr>
                  <td>Infrastructure</td>
                  <td>Interfaces that utilize infrastructure (ex. Rabbit MQ, Database)</td>
                  </tr>
                  </tbody>
                  </table>
                  <br/>
                  <h5 id="layered-architecture-specifications">Layered Architecture Specifications</h5>
                  <ol>
                  <li>Partition system to layers according to the responsibilities</li>
                  <li>Each layer should depend only on the layers below it. This is achieved by using the public interfaces of the layers below.</li>
                  <li>Each layer is loosely coupled to the layer above it. To achieve that, layers should communicate with the layers above them through callbacks or observers.</li>
                  <li>Infrastructure layer should know nothing about the domain and should be used as services.</li>
                  <li>The Domain-Driven Design approach requires only the domain-layer to be separated, other layers can be mixed and the system can still follow Domain-Driven Design.</li>
                  </ol>
                  <h5 id="advantages-of-using-layered-architecture">Advantages of Using Layered Architecture</h5>
                  <ol>
                  <li>Design is a lot cleaner</li>
                  <li>Less expensive to maintain since layers are loosely coupled</li>
                  <li>Easier to scale because each layer can evolve separately</li>
                  </ol>
                  <h5 id="disadvantages-of-using-layered-architecture">Disadvantages of Using Layered Architecture</h5>
                  <ol>
                  <li>Has a learning curve that inexperienced developers might struggle through</li>
                  <li>Takes longer time to design and implement</li>
                  </ol>
                  <p>That&#39;s why another architecture is introduced as an &quot;anti-pattern&quot; to Layered Architecture and that is <strong>Smart UI</strong>.</p>
                  <h4 id="smart-ui">Smart UI</h4>
                  <p>If the project is not very ambitious or is not expected to scale, or if the developing team is inexperienced then Smart UI is probably the way to go.</p>
                  <h5 id="smart-ui-specifications">Smart UI specifications</h5>
                  <ol>
                  <li>Business logic is implemented in the UI</li>
                  <li>Application is divided to small functions and each function is implemented as a separate UI.</li>
                  <li>Relational databases are used as a shared data repository</li>
                  <li>Use the most automated UI building tools available. (I&#39;m not sure what the book means by that exactly but I think it&#39;s about tools that let you drag and drop components to form the UI and then wire your code to it.)</li>
                  <li>Use <a href="https://www.techopedia.com/definition/24308/fourth-generation-programming-language-4gl">fourth generation languages</a> (4GL)</li>
                  </ol>
                  <h5 id="advantages-of-using-smart-ui">Advantages of Using Smart UI</h5>
                  <ol>
                  <li>Fast and easy to develop</li>
                  <li>Can be changed quickly since it&#39;s divided to small functions and small UIs</li>
                  <li>Easy to expand the system since the UIs are decoupled</li>
                  <li>Using relational databases provides integrity at data levels</li>
                  <li>4GL tools work well</li>
                  <li>Maintenance team can quickly redo parts of the code that they don&#39;t understand since changes should be localized to each separate UI</li>
                  </ol>
                  <h5 id="disadvantages-of-using-smart-ui">Disadvantages of Using Smart UI</h5>
                  <ol>
                  <li>Integrating applications is difficult since the tools and languages are not flexible</li>
                  <li>Business problem is not abstracted which means behavior cannot be reused</li>
                  <li>Lack of abstraction limits refactoring options</li>
                  <li>No flexibility to add richer behavior</li>
                  <li>If need for scalability arises later, system  cannot migrate from this approach except by replacing the entire app.</li>
                  </ol>
                  <p>It&#39;s important not to use sophisticated design approaches unless the development team is committed to those patterns all the way or if the project does not need such approaches. It&#39;s better to use 4GL and automated tools instead of a sophisticated, flexible language like Java. Do not overengineer your project.</p>
                  <h3 id="conclusion">Conclusion</h3>
                  <p>This chapter introduces to approaches to design a system based on how complex the system is and how skilled the developers are. It explained when to apply Domain-Driven Design and when not to showing the pros and cons of each of the 2 patterns introduced.</p>
                  <p>As always, it&#39;s important to remember that designing a system is a process of constantly making tradeoffs. You get fast development but it&#39;s harder to scale. You have flexibility but it takes longer to develop. </p>

                <div class="entry-meta entry-tags-share">                 
                  <!-- /Share Buttons -->
                  <ul class="tags">
                    <li><a>software design</a></li>
                    <li><a>architecture</a></li>
                    <li><a>domain-driven design</a></li>
                  </ul>
                </div>

              </div>
              <!-- End of Blog Entry Content -->
            </div>
          </div>
        </div>
        <!-- End of Single Page Content -->
      </div>
      <!-- /Main Content -->
    </div>
    <footer>
      <div class="copyrights">© 2021 All rights reserved.</div>
    </footer>

    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/pages-switcher.js"></script>
    <script type="text/javascript" src="js/imagesloaded.pkgd.min.js"></script>
    <script type="text/javascript" src="js/validator.js"></script>
    <script type="text/javascript" src="js/jquery.shuffle.min.js"></script>
    <script type="text/javascript" src="js/masonry.pkgd.min.js"></script>
    <script type="text/javascript" src="js/owl.carousel.min.js"></script>
    <script type="text/javascript" src="js/jquery.magnific-popup.min.js"></script>
    <script type="text/javascript" src="js/jquery.hoverdir.js"></script>
    <!--<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=YOUR-API-KEY"></script>-->
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js"></script>
    <script type="text/javascript" src="js/jquery.googlemap.js"></script>
    <script type="text/javascript" src="js/main.js"></script>
  </body>
</html>
